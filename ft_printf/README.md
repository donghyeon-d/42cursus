
[노션 링크](https://www.notion.so/ft_printf-a89bea73b32f41838b9b43ad7b2db6c0)

# ft_printf
# 과제 개요
## 1. 무엇을 하는 과제인가?
- <stdio.h> 에 있는 printf 함수 구현하기
- 기본 구현 : c s p d i u x X o O % 의 형식에 대해 구현하기
- 보너스파트 : 서식 지정자 # -+0.digit 구현하기
- 허용함수 : malloc, free, write, va_start, va_arg, va_copy, va_end

<br>

## 2. 새롭게 배우는 개념은 무엇인가?
- 가변인자의 개념과 사용
- 경우를 따져가며 프로그래밍하기(flag와 서식에 맞게 출력하기)

<br>

## 3. 과제하면서 습득한 것
- 1000줄 이하의 코드가 막혔을 땐, 다 지우고 처음부터 다시하는게 빠른 경우도 있다.
- 가변인자가 무엇이고, 메모리상에서 어떻게 값을 읽는 것인지
- 구현하다가 막혀서 도저히 안될 땐 다른 사람들의 코드를 참고하며 도움 받기
- 1,0의 플래그가 많이 필요할 때 char 변수 하나로 1비트 단위로 체크해줄 수도 있음 (이렇게 구현하진 않음)
- subject 지시문은 꼭 제대로 읽어보기!

<br>


# 함수 전체적 구조
`ft_printf(char *fmt, ...);`
``` c
typedef struct s_print
{
	int		len;
	int		digit;
	int		ret;
	char    *prefix;
	int		sharp;
	int		minus;
	int		zero;
	int		dot;
	int		prec;
	int		buffer;
	int		padding;
	char	fill;
	char	first_sign;
	char	*base;
	int		error;
}	t_print;
```
1. 구조체에 각종 플래그를 체크하고 길이들을 저장할 수 있는 멤버들 넣기
2. fmt 를 돌면서 % 만나면 flag 체크하면서 구조체 멤버에 값 넣기
3. flag 뒤에 자료형별로 가변인자 받기
4. flag에 들어가있는 내용들 살펴보면서 길이랑 옵션들 정리하기
5. 자료형별로 str 화 해주기
6. 자료형별로 경우에따라 순서대로 요소들 출력
7. malloc 실패 or write 실패시 error 플래그에서 체크하고, 본함수에서 리턴 -1 해줌

<br>

# 봉착된 문제 및 해결
## 지시문을 제대로 읽었더라면...
- 지시문의 보너스 파트를 제대로 파악하지 못했음
- 보너스 부분의 flag 에서 ' ', '.', digit 을 제대로 인지하지 않고 구현을 했었음.. 
- 그래서 처음부터 다시 구현하게 되었음
- 지시문을 정확하게 파악하고 구현에 들어갈 것!

## 출력하고 싶은 요소들 버퍼에 담아서 한번에 출력하기?
- 처음에는 이렇게 함수를 구현하고 싶었으나, 함수가 많아지고 전체적으로 지저분해짐
- flag 하나를 완성하면, 다른 한 부분에 문제가 생기고, 한쪽을 고치면 다른 한쪽이 터지고... 계속 반복됨...
- 다른 더 좋을 방법이 있을 것으로 생각돼서 이미 통과한 다른 사람에게 도움을 요청함

## 버퍼를 사용하지 않고, 각각의 요소들의 개수를 세서 출력함
- 코드를 작성하기 전에, printf flag 사용의 다양한 경우를 직접 출력해보면서 어떻게 구현해야할지 미리 체크 해봄.
- 버퍼를 사용하지 않고, 출력해줘야하는 것들의 요소를 계산함
- if, else if, else의 조건문을 차분하게 활용하면서 프로그래밍함
- 생각한 조건문대로 잘 돌아가는지 lldb로 디버깅하여 점검함